(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2077)}])},2077:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return z}});var l=s(5893);s(3782);var n=s(3544),r=s(4233),i=s(7294),a=s(0),d=s(442),o=s(1905),c=s(8735),h=s(2669),u=s(7692),x=s(3047),j=s(9287),v=s(5990),p=s(8605),g=s(5478),f=s(361),m=s(1759),b=s(1864),w=s.n(b),y=s(2210),C=s.n(y),S=s(7592);class k{}function N(){let[e,t]=(0,i.useState)("localhost"),[s,n]=(0,i.useState)(8080),r=(0,i.useRef)(null),a=(0,i.useRef)(null);return k.host="localhost",k.port=8080,(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S.o,{ref:r,onChange:()=>{t(r.current.value),k.host=r.current.value},type:"url",label:"host",value:e}),(0,l.jsx)(S.o,{onChange:()=>{let e=Number.parseInt(a.current.value);Number.isNaN(e)||(()=>{n(e),k.port=e})},ref:a,type:"number",label:"port",value:s}),(0,l.jsxs)("div",{children:[" This image will be send to ","http://".concat(e,":").concat(s,"/")]})]})}k.host="localhost",k.port=8080;var _=s(3454);function R(){let e=(0,i.useRef)(null),[t,s]=(0,i.useState)(void 0),[n,r]=(0,i.useState)(!1),[b,y]=(0,i.useState)(void 0),[S,k]=(0,i.useState)(void 0),[R,X]=(0,i.useState)(!1),[z,E]=(0,i.useState)(void 0),[O,K]=(0,i.useState)(void 0),[P,T]=(0,i.useState)({message:"none",status:204}),[q,{open:F,close:J}]=(0,m.q)(!1);return(0,l.jsx)(a.M,{children:(0,l.jsxs)(d.K,{children:[(0,l.jsxs)(d.K,{children:[(0,l.jsx)(o.f,{visible:R,zIndex:1e3,overlayProps:{radius:"sm",blur:2}}),(0,l.jsxs)(c.X,{shadow:"xs",p:"xl",children:[(0,l.jsx)(h.T,{h:2}),(0,l.jsx)("div",{style:{width:500},children:(0,l.jsx)(f.fh,{openRef:e,onDrop:async e=>{var t,l;let n=e.map(e=>{let t=w().extname(e.path);if(".png"===t)return e}),r=[];n.forEach(e=>{void 0!=e&&r.push(e)}),s(r);let i=await Promise.all(r.map(async e=>{if(e){let t=Array.from(new Uint8Array(await e.arrayBuffer())),s="";for(let e=0;e<t.length;e+=1024)s+=String.fromCharCode.apply(null,t.slice(e,e+1024));let l=window.btoa(s),n=C()(l);return{name:e.name,data:"data:image/png;base64,".concat(l),width:n.width}}})),a={data:i,length:null==i?void 0:i.length,width:null!==(l=null===(t=i[0])||void 0===t?void 0:t.width)&&void 0!==l?l:16};k(a)},children:(0,l.jsxs)(c.X,{shadow:"xs",p:"xl",children:["Drag images here or click to select files",(0,l.jsx)("br",{}),"(supported only ",(0,l.jsx)("strong",{children:"png"})," files)"]})})}),(0,l.jsx)("div",{children:(0,l.jsx)(N,{})}),t&&!t.includes(void 0)?(0,l.jsx)(c.X,{shadow:"xs",p:"xl",children:(0,l.jsx)(u.x,{h:400,children:(0,l.jsx)("ul",{children:t?t.map(e=>e?(0,l.jsxs)("li",{children:[e.path," - ",e.size," bytes"]},e.path):(0,l.jsx)("div",{},void 0)):[]})})}):(0,l.jsx)(l.Fragment,{})]})]}),(0,l.jsxs)(x.Z,{justify:"right",mt:"md",children:[(0,l.jsx)(j.q,{value:JSON.stringify(S),children:e=>{let{copied:t,copy:s}=e;return(0,l.jsx)(v.z,{"data-disabled":void 0==S,color:t?"teal":"indigo",onClick:t||void 0!=S?s:void 0,children:t&&void 0!=S?"Copied data":"Copy data"})}}),(0,l.jsx)(v.z,{color:"red",onClick:()=>{s(void 0),k(void 0)},children:"Clear files"}),(0,l.jsx)(v.z,{color:"blue",onClick:()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.call(e)},children:"Select files"}),(0,l.jsx)(v.z,{color:"green","data-disabled":n||void 0==t||t.includes(void 0),onClick:!n&&t?()=>{r(!0),X(!1),(async()=>{let e=await fetch("/api/image/vertical",{method:"POST",body:JSON.stringify(S)}),t=await new Response(e.body).text(),s=JSON.parse(t);y(s),F(),K(e.status),E(s),T(s),r(!1)})()}:void 0,children:"Generate"})]}),(0,l.jsx)(p.u,{opened:200==O&&q,onClose:J,children:(0,l.jsx)(c.X,{children:(0,l.jsx)(d.K,{children:b?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.E,{children:b.data}),(0,l.jsx)(j.q,{value:b.data,children:e=>{let{copied:t,copy:s}=e;return(0,l.jsx)(v.z,{color:t?"teal":"blue",onClick:s,children:t?"Copied data":"Copy data"})}}),(0,l.jsx)(c.X,{shadow:"xs",p:"xl",children:(0,l.jsxs)(d.K,{style:{padding:10,backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:5},children:[(0,l.jsx)("strong",{children:"Result:"}),(0,l.jsx)("img",{src:"data:image/png;base64,".concat(b.data),width:b.width,height:b.height,alt:""})]})})]}):(0,l.jsx)(l.Fragment,{})})})}),(0,l.jsx)(p.u,{opened:200!=O&&q,onClose:J,children:(0,l.jsx)(c.X,{children:(0,l.jsxs)(d.K,{children:[(0,l.jsx)("h1",{children:"Request URL"}),"http://".concat(_.argv[1],":").concat(_.argv[2],"/"),(0,l.jsx)("h2",{children:"Status:"}),(0,l.jsx)("br",{}),null==P?void 0:P.status,(0,l.jsxs)("h3",{children:["Message:",(0,l.jsx)("br",{})]}),(0,l.jsx)("br",{}),null==P?void 0:P.message]})})})]})})}let X=(0,n.j)({});function z(){return(0,l.jsx)(r.M,{theme:X,defaultColorScheme:"dark",children:(0,l.jsx)(R,{})})}}},function(e){e.O(0,[774,801,541,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);